title: Enumerate Trusts
category: 
  - AD:
    - Trusts
    - Kerberos
tactic: Discovery
tags: []

description: 

references:
steps:
  - description: Enumerate domain\forest trusts
    options:
      - tool: powerview
        usage: |
          #(Best Option, uses ldap requests):
          #Enumerate all trusts for the current domain and then enumerates all trusts for each domain it finds

          Get-DomainTrustMapping
        comments:
      
      - tool: Bloodhound
        usage: Use GUI
        comments:
      
      - tool: nltest
        usage: |
          #Pure Windows, not super informative
          nltest /trusted_domains
          ([System.DirectoryServices.ActiveDirectory.Domain]::GetCurrentDomain()).GetAllTrustRelationships()
        comments:
      
      - tool: ActiveDirectory.ps1
        usage: |
          ([System.DirectoryServices.ActiveDirectory.Domain]::GetCurrentDomain()).GetAllTrustRelationships()
        comments:
      
      - tool: ldapsearch
        usage: |
          ldapsearch -LLL -x -H ldap://dc01.hpbank.local -D "user@hpbank.local" -w 'P@ssw0rd' -b dc=hpbank,dc=local "(objectClass=trustedDomain)"
        comments:

comments:
  