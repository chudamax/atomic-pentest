title: Run As different user
category: 
  - AD:
    - Privilege Escalation:
      - Host
tactic: Execution
tags: []

description: Run command from a different user

references:
  - https://github.com/antonioCoco/RunasCs

steps: 
  - description: Run command from a different user
    options: 
      - tool: RunasCs
        usage: |
          C:\Windows\Microsoft.NET\Framework64\v4.0.30319\csc.exe -target:exe -optimize -out:RunasCs.exe RunasCs.cs
          ./RunasCs.exe -d <domain> <username> <password> "<cmd>"
        comments: 
      
      - tool: Powershell
        usage: |
          $pass = ConvertTo-SecureString 'P@sw0rd' -AsPlainText -Force
          $cred = New-Object System.Management.Automation.PSCredential("<username>", $pass)
          $Session = New-PSSession -Credential $Cred
          Invoke-Command -Session $Session -scriptblock { <commandline> }

        comments: 

comments:


  